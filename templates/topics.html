{% extends "base.html" %}
{% block content %}
  <h1>All Topics</h1>

  <form action="/topics/search" method="get" style="margin-bottom: 20px;">
    <label for="id">Search Topic by ID:</label>
    <input type="number" name="id" required>
    <button type="submit">Search</button>
  </form>

  <form method="get" action="/topics" style="margin-bottom: 20px;">
    <input type="text" name="search" placeholder="Search by title" value="{{ search or '' }}">
    <select name="sort">
      <option value="">Sort by...</option>
      <option value="asc" {% if sort == 'asc' %}selected{% endif %}>Ascending</option>
      <option value="desc" {% if sort == 'desc' %}selected{% endif %}>Descending</option>
    </select>
    <button type="submit">Apply</button>
  </form>

  <!-- Topics list -->
  {% if topics %}
    <ul>
      {% for topic in topics %}
        <li><a href="/topics/{{ topic.id }}">{{ topic.title }}</a></li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No topics found.</p>
  {% endif %}
{% endblock %}
